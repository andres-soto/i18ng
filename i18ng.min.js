angular.module("i18ng",["ng"]),angular.module("i18ng").provider("i18ng",function(){"use strict";var a=window.i18n,b=[];this.init=function(){b=Array.prototype.slice.call(arguments)},this.$get=["$rootScope",function(c){var d=b[0],e=b[1]||function(){};return"function"==typeof d&&(e=d,d={}),a.init.call(a,d,function(b){a.t=b,c.$$phase||c.$digest(),c.$broadcast("i18ngInitComplete"),e.apply(this,arguments)}),a}]}).filter("t",["i18ng",function(){"use strict";return function(){return i18n.t.apply(null,arguments)}}]).directive("i18ng",["i18ng","$parse",function(a,b){"use strict";function c(a,b,c){angular.forEach(c,function(e,f){d(a,b,c,f)})}function d(b,c,d,e){var f=d[e].getKey||angular.noop,g=d[e].getOpts||angular.noop,h=f(b)||"",i=a.t(h,g(b));"_html"==e?c.html(i):"_text"==e?c.text(i):c.attr(e,i)}var e=/^i18ng(.+?)(Opts)?$/;return{restrict:"A",link:function(a,f,g){var h={},i=d.bind(null,a,f,h),j=["opts","html"];if(angular.forEach(g,function(c,d){var f=d.match(e);if(f&&f[1]&&!~j.indexOf(f[1].toLowerCase())){var g=f[1].toLowerCase(),k=f[2]?"getOpts":"getKey",l=f[2]?"$watchCollection":"$watch";h[g]||(h[g]={}),h[g][k]=b(c),a[l](function(){return h[g][k](a)},function(){i(g)})}}),g.i18ng){var k="i18ngHtml"in g?"_html":"_text",l=!!g.i18ngOpts;h[k]={getKey:b(g.i18ng),getOpts:l?b(g.i18ngOpts):null},a.$watch(function(){return h[k].getKey(a)},function(){i(k)}),l&&a.$watchCollection(function(){return h[k].getOpts(a)},function(){i(k)})}a.$on("i18ngInitComplete",function(){c(a,f,h)}),c(a,f,h)}}}]);